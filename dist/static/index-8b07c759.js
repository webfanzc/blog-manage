import{r as a,b as e,a as t,m as n,n as l,f as r,ac as s,h as i,Y as o,j as g,w as u,o as c,z as p,i as d,A as h,t as f,l as z,ad as m,F as v,p as C,ae as _,af as b,E as S,ag as y,_ as w}from"./index-59cc04c7.js";const x={total:0,currentPage:1,pageSizes:[10,20,50],pageSize:10,layout:"total, sizes, prev, pager, next, jumper"};const P={class:"app-container"},k={class:"table-wrapper"},Y={class:"pager-wrapper"},D=w(e({name:"ElementPlus",__name:"index",setup(e){const w=t(!1),{paginationData:D,handleCurrentChange:j,handleSizeChange:A}=function(e={}){const t=a({...x,...e});return{paginationData:t,handleCurrentChange:a=>{t.currentPage=a},handleSizeChange:a=>{t.pageSize=a}}}(),B=n(),E=t([]),H=()=>{w.value=!0,y({pageNo:D.currentPage,pageSize:D.pageSize}).then((a=>{D.total=a.data.total,E.value=a.data.list})).catch((()=>{E.value=[]})).finally((()=>{w.value=!1}))};return l([()=>D.currentPage,()=>D.pageSize],H,{immediate:!0}),(a,e)=>{const t=r("el-table-column"),n=r("el-tag"),l=r("el-button"),y=r("el-table"),x=r("el-pagination"),M=r("el-card"),N=s("loading");return c(),i("div",P,[o((c(),g(M,{shadow:"never"},{default:u((()=>[p("div",k,[d(y,{data:E.value},{default:u((()=>[d(t,{prop:"title",label:"标题",align:"center"}),d(t,{prop:"createdAt",label:"创建时间",align:"center"},{default:u((a=>[h(f(z(m)(a.row.createdAt).format("YYYY-MM-DD HH:mm:ss")),1)])),_:1}),d(t,{prop:"tags",label:"标签",align:"center"},{default:u((a=>[(c(!0),i(v,null,C(a.row.tags,(a=>(c(),g(n,{key:a._id,type:"success",effect:"plain"},{default:u((()=>[h(f(a.tagName),1)])),_:2},1024)))),128))])),_:1}),d(t,{fixed:"right",label:"操作",width:"150",align:"center"},{default:u((a=>[d(l,{type:"primary",text:"",bg:"",size:"small",onClick:e=>{return t=a.row,void B.push("/article/post/"+t._id);var t}},{default:u((()=>[h("修改")])),_:2},1032,["onClick"]),d(l,{type:"danger",text:"",bg:"",size:"small",onClick:e=>{return t=a.row,void _.confirm(`正在删除文章：${t.title}，确认删除？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{b({id:t._id}).then((()=>{S.success("删除成功"),H()}))}));var t}},{default:u((()=>[h("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])]),p("div",Y,[d(x,{background:"",layout:z(D).layout,"page-sizes":z(D).pageSizes,total:z(D).total,"page-size":z(D).pageSize,currentPage:z(D).currentPage,onSizeChange:z(A),onCurrentChange:z(j)},null,8,["layout","page-sizes","total","page-size","currentPage","onSizeChange","onCurrentChange"])])])),_:1})),[[N,w.value]])])}}}),[["__scopeId","data-v-56929c53"]]);export{D as default};
